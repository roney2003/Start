(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3459],{10545:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return n(31844)}])},26323:function(e,t,n){"use strict";n.d(t,{W:function(){return h},Z:function(){return d}});var r=n(26042),i=n(69396),s=n(99534),a=n(85893),o=n(51233),c=n(60076),l=n(22715),u=n(86896);function d(e){var t=function(e){h&&h(e.target.value)},n=e.id,i=e.name,d=e.value,h=e.onChange,p=e.labelTId,f=e.endIcon,x=e.placeholder,m=e.type,g=e.disabled,w=e.required,v=e.variant,Z=e.multiline,j=e.rows,b=e.fullWidth,y=(0,s.Z)(e,["id","name","value","onChange","labelTId","endIcon","placeholder","type","disabled","required","variant","multiline","rows","fullWidth"]),_=(0,u.Z)().formatMessage;return(0,a.jsxs)(o.Z,{spacing:1,sx:{width:b&&"100%"},children:[(0,a.jsx)(c.Z,{id:"".concat(n,"__label"),sx:{color:"text.darkGrey"},required:w,children:_({id:p})}),(0,a.jsx)(l.Z,(0,r.Z)({id:n,name:i,type:m,placeholder:x,InputProps:{endAdornment:f,className:v},disabled:g,required:w,multiline:Z,rows:void 0===j?1:j,fullWidth:b,value:d,onChange:t},y))]})}function h(e){return(0,a.jsx)(d,(0,i.Z)((0,r.Z)({},e),{type:"password",placeholder:"••••••••"}))}},31844:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return _}});var r=n(85893),i=n(47568),s=n(97582),a=n(28500),o=n(75661),c=n(59896),l=n(69700),u=n(26323),d=n(70544),h=n(71018),p=n(87357),f=n(51233),x=n(10511),m=n(25675),g=n.n(m),w=n(11163),v=n(67294),Z=n(70978);function j(e){var t=(0,w.useRouter)(),n=t.push,p=t.replace,m=(0,w.useRouter)(),g=(0,h.aC)(),j=g.authMethods,y=g.auth,_=(0,x.CJ)().isMobile,I=(0,v.useState)(!1),A=I[0],T=I[1],k=(0,v.useState)(!1),C=k[0],P=k[1],E=m.query.returnUrl;function N(){return(N=(0,i.Z)(function(e){var t,r;return(0,s.__generator)(this,function(i){switch(i.label){case 0:return e.preventDefault(),A&&T(!1),t={email:e.target.elements.identifier.value,password:e.target.elements.password.value},P(!0),[4,(0,Z.x4)(t)];case 1:if(r=i.sent(),P(!1),!r.data)return T(!0),[2];return j.login(r.data.user,r.data.token,!1),n(E||"/dashboard"),[2]}})})).apply(this,arguments)}return(0,v.useEffect)(function(){y.accessToken&&p("/dashboard")},[]),(0,r.jsx)(f.Z,{alignItems:"center",justifyContent:"center",sx:{width:"100%",height:"100%",padding:3},children:(0,r.jsxs)(l.Z,{spacing:{xs:5,md:4},component:"form",onSubmit:function(e){return N.apply(this,arguments)},sx:{position:"relative",width:{xs:"100%",md:"400px"}},children:[(0,r.jsxs)(f.Z,{direction:"row",spacing:2,alignItems:"center",children:[!_&&(0,r.jsx)(a.tB,{color:"primary"}),(0,r.jsx)(c.Z,{variant:"h3",color:"primary",fontSize:_&&"2rem !important",tId:"auth.login.title"})]}),(0,r.jsxs)(f.Z,{spacing:{xs:3,md:2},children:[(0,r.jsx)(u.Z,{id:"identifier",name:"identifier",labelTId:"auth.login.identifier",placeholder:"jean.dupont@gmail.com",endIcon:(0,r.jsx)(a.bV,{})}),(0,r.jsx)(u.Z,{id:"password",name:"password",labelTId:"auth.login.password",type:"password",placeholder:"•••••••",endIcon:(0,r.jsx)(a.mB,{})})]}),(0,r.jsxs)(f.Z,{spacing:{xs:3,md:2},children:[(0,r.jsx)(d.Z,{href:"/reset",children:(0,r.jsx)(c.Z,{variant:"body2",color:"text.grey",tId:"auth.login.forgottenPassword"})}),(0,r.jsx)(d.Z,{href:"/register",children:(0,r.jsx)(c.Z,{variant:"body2",color:"text.grey",tId:"auth.login.noAccount"})})]}),A&&(0,r.jsx)(c.Z,{variant:"medium",color:"error.main",tId:"auth.login.invalidLogin"}),(0,r.jsx)(o.Z,{variant:"contained",size:"medium",color:"secondary",tId:"auth.login.validate",endIcon:(0,r.jsx)(a.e0,{}),type:"submit",disabled:C}),(0,r.jsx)(b,{})]})})}function b(e){return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(p.Z,{sx:{position:"absolute",top:{xs:"-30%",md:"21%"},left:{xs:"10%",md:"-67%"},height:{xs:"71px",md:"101px"},width:{xs:"70px",md:"97px"}},children:(0,r.jsx)(g(),{src:"/images/login/dossier.svg",layout:"fill"})}),(0,r.jsx)(p.Z,{sx:{position:"absolute",display:{xs:"none",md:"block"},bottom:"-10%",right:"-50%",height:"108px",width:"92px"},children:(0,r.jsx)(g(),{src:"/images/login/loupe.svg",layout:"fill"})}),(0,r.jsx)(p.Z,{sx:{position:"absolute",top:{xs:"95%",md:"-7%"},left:{xs:"41%",md:"-60%"},height:{xs:"90px",md:"115px"},width:{xs:"89px",md:"110px"}},children:(0,r.jsx)(g(),{src:"/images/login/page.svg",layout:"fill"})}),(0,r.jsx)(p.Z,{sx:{position:"absolute",top:{xs:"-30%",md:"-10%"},right:{xs:"10%",md:"-40%"},height:{xs:"60px",md:"78px"},width:{xs:"57px",md:"74px"}},children:(0,r.jsx)(g(),{src:"/images/login/stars.svg",layout:"fill"})})]})}var y=n(48651);function _(){var e=(0,y.$Y)(),t=e.setHeader,n=e.setFooter;return(0,v.useEffect)(function(){t({cta:!1,menu:!1,securedFilesReinsurrance:!0}),n({enabled:!0})},[]),(0,r.jsx)(f.Z,{sx:{width:"100%",height:"100%",margin:"auto 0"},children:(0,r.jsx)(j,{})})}},70978:function(e,t,n){"use strict";n.d(t,{GW:function(){return h},c0:function(){return p},fV:function(){return f},x4:function(){return l}});var r,i,s,a=n(47568),o=n(97582),c=n(35559),l=(r=(0,a.Z)(function(e){var t,n;return(0,o.__generator)(this,function(r){switch(r.label){case 0:return t=e.email,n=e.password,[4,c.Z.post("/api/Authenticate/login",{email:t,password:n}).catch(function(e){return console.log(e),!1})];case 1:return[2,r.sent()]}})}),function(e){return r.apply(this,arguments)});(0,a.Z)(function(e){var t,n,r,i,s;return(0,o.__generator)(this,function(a){switch(a.label){case 0:return t=e.firstname,n=e.lastname,r=e.email,i=e.areUseTermsAccepted,s=e.locale,[4,c.Z.post("/api/Authenticate/register",{firstname:t,lastname:n,email:r,areUseTermsAccepted:i,locale:s}).catch(function(e){return console.log(e),!1})];case 1:return[2,a.sent()]}})});var u,d,h=(s=(0,a.Z)(function(e){var t,n,r,i;return(0,o.__generator)(this,function(s){switch(s.label){case 0:return t=e.email,n=e.verifyingHash,r=e.password,i=e.confirmPassword,[4,c.Z.post("/api/Authenticate/confirm-registration",{email:t,verifyingHash:n,password:r,confirmPassword:i}).catch(function(e){return console.log(e),!1})];case 1:return[2,s.sent()]}})}),function(e){return s.apply(this,arguments)}),p=(u=(0,a.Z)(function(e){var t;return(0,o.__generator)(this,function(n){switch(n.label){case 0:return t=e.email,[4,c.Z.post("/api/Authenticate/reset-password",{email:t}).catch(function(e){return console.log(e),!1})];case 1:return[2,n.sent()]}})}),function(e){return u.apply(this,arguments)}),f=(d=(0,a.Z)(function(e){var t,n,r,i;return(0,o.__generator)(this,function(s){switch(s.label){case 0:return t=e.email,n=e.verifyingHash,r=e.password,i=e.confirmPassword,[4,c.Z.post("/api/Authenticate/confirm-reset-password",{email:t,verifyingHash:n,password:r,confirmPassword:i}).catch(function(e){return console.log(e),!1})];case 1:return[2,s.sent()]}})}),function(e){return d.apply(this,arguments)})}},function(e){e.O(0,[9332,2715,9774,2888,179],function(){return e(e.s=10545)}),_N_E=e.O()}]);